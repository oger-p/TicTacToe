{"version":3,"sources":["components/square/square.js","components/score/score.js","components/board/board.js","components/game/game.js","index.js"],"names":["Square","props","value","onClick","react_default","a","createElement","type","className","Score","scoreX","scoreO","Board","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","score","X","O","isGameFinished","winner","squares","Array","fill","xIsNext","_this$state","concat","getCurrentPlayer","playerName","winningLines","i","length","_winningLines$i","slicedToArray","b","c","setState","checkWinner","values","indexOf","_this$state2","newSquares","objectSpread","changeCurrentPlayer","_this2","square_square","handleClick","_this3","getStatus","renderSquare","reset","components_score_score","getScore","React","Component","Game","board_board","ReactDOM","render","game_game","document","getElementById"],"mappings":"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","file":"static/js/main.02efdd17.chunk.js","sourcesContent":["import React from 'react';\nimport './square.css';\n\nfunction Square(props) {\n  const { value, onClick } = props;\n  return (\n    <button type=\"button\" className=\"square\" onClick={() => onClick()}>\n      {value}\n    </button>\n  );\n}\n\nexport default Square;\n","import React from 'react';\nimport './score.css';\n\nfunction Score(props) {\n  const { scoreX, scoreO } = props;\n  return (\n    <div className=\"score\">\n      <span className=\"score-row\">Joueur X : {scoreX}</span>\n      <span className=\"score-row\">Joueur O : {scoreO}</span>\n    </div>\n  );\n}\n\nexport default Score;\n","import React from 'react';\nimport Square from '../square/square';\nimport Score from '../score/score';\nimport './board.css';\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      score: {\n        X: 0,\n        O: 0\n      },\n      isGameFinished: false,\n      winner: null,\n      squares: Array(9).fill(null),\n      xIsNext: true\n    };\n  }\n\n  /**\n   * Called when the component did update\n   */\n  componentDidUpdate() {\n    const { isGameFinished } = this.state;\n    if (!isGameFinished) {\n      this.isGameFinished();\n    }\n  }\n\n  /**\n   * It returns the name of the player who have to play\n   */\n  getCurrentPlayer() {\n    const { xIsNext } = this.state;\n    return xIsNext ? 'X' : 'O';\n  }\n\n  /**\n   * It returns the status of the game\n   * It can be :\n   * - Player {name} must play\n   * - Player {name} won\n   * - It's a tie\n   */\n  getStatus() {\n    const { isGameFinished, winner } = this.state;\n    let status;\n    if (!isGameFinished) {\n      status = `Prochain joueur: ${this.getCurrentPlayer()} `;\n    } else {\n      status = winner ? `${winner} a gagné` : 'Egalité';\n    }\n    return status;\n  }\n\n  /**\n   * It returns the score for a given player name\n   * @param {String} playerName the playerName\n   * @returns {Number} the score of the player\n   */\n  getScore(playerName) {\n    const { score } = this.state;\n\n    return score[playerName];\n  }\n\n  /**\n   * It check that there is a winner for the board\n   * @param {Array} squares all the squares to check\n   * @returns {boolean} it returns true or false if there is a winner or not\n   */\n  checkWinner(squares) {\n    const winningLines = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6]\n    ];\n    for (let i = 0; i < winningLines.length; i += 1) {\n      const [a, b, c] = winningLines[i];\n      if (\n        squares[a] &&\n        squares[a] === squares[b] &&\n        squares[b] === squares[c]\n      ) {\n        const { score } = this.state;\n        score[squares[a]] += 1;\n        this.setState({ isGameFinished: true, winner: squares[a], score });\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Check if the game is finished\n   * If it's finished, it set the state isGameFinished at true and the winner.\n   * If there is no winned, it set winner to null.\n   */\n  isGameFinished() {\n    const { squares } = this.state;\n\n    if (!this.checkWinner(squares))\n      if (Object.values(squares).indexOf(null) === -1) {\n        this.setState({ isGameFinished: true });\n      }\n  }\n\n  /**\n   * It change the the state of xIsNext to follow which player have to play\n   */\n  changeCurrentPlayer() {\n    const { xIsNext } = this.state;\n    this.setState({ xIsNext: !xIsNext });\n  }\n\n  /**\n   * It's the function which handle the click on a square\n   * It test that the square is not empty and that the game is not finished\n   * Then it put the correct symbol in the square and change the current player\n   * @param {Number} i\n   */\n  handleClick(i) {\n    const { squares, isGameFinished } = this.state;\n    const newSquares = { ...squares };\n    if (newSquares[i] || isGameFinished) {\n      return;\n    }\n    newSquares[i] = this.getCurrentPlayer();\n    this.setState({ squares: newSquares });\n    this.changeCurrentPlayer();\n  }\n\n  /**\n   * It reset the board to launch a new game\n   */\n  reset() {\n    this.setState({\n      isGameFinished: false,\n      winner: null,\n      squares: Array(9).fill(null),\n      xIsNext: true\n    });\n  }\n\n  /**\n   * It create a square with a given value\n   * @param {Number} i it's the value to pass to the Square component\n   */\n  renderSquare(i) {\n    const { squares } = this.state;\n    return (\n      <Square\n        value={squares[i]}\n        onClick={() => {\n          this.handleClick(i);\n        }}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {<div className=\"status\">{this.getStatus()}</div>}\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n        <div className=\"reset\">\n          <button onClick={() => this.reset()} type=\"button\">\n            Reset\n          </button>\n        </div>\n        <Score scoreX={this.getScore('X')} scoreO={this.getScore('O')} />\n      </div>\n    );\n  }\n}\n\nexport default Board;\n","import React from 'react';\nimport Board from '../board/board';\nimport './game.css';\n\nfunction Game() {\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <Board />\n      </div>\n    </div>\n  );\n}\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Game from './components/game/game';\nimport './index.css';\n\nReactDOM.render(<Game />, document.getElementById('root'));\n"],"sourceRoot":""}